<html>
  <head>
    <script>
      function sortRows(table, n, comparator){
        var tbody = table.tBodies[0];
        var rows = tbody.getElementsByTagName("tr");
        rows = Array.prototype.slice.call(rows, 0);
        // 基于第n个<td>元素的值对行排序
        rows.sort(function(row1, row2){
          var cell = row1.getElementsByTagName("td")[n];
          var ce112 = row2.getElementsByTagName("td")[n];
          var val1 = cell.textContent || cell.innerText;
          var val2 = cell2.textContent || cell2.innerText;
          if (comparator) {
            return comparator(val1, val2);
          } else {
            if (val1 < val2) {
              return -1;
            } else if (val1 == val2) {
              return 1;
            } else {
              return 1;
            }
          }
        });
        for (var i = 0 ; i < rows.length; i++) {
           tbody.appendChild(rows[i]);
        }
      }
      function makeSortable(table) {
        var headers = table.getElementsByTagName("th");
        for (var i= 0; i < headers.length; i++) {
          (function(index){
            headers[i].onclick = function(){
              sortRows(table, index);
            }
          }(i));
        }
      }
    </script>
  </head>
  <body>
    <h3>表格排序</h3>
    <table>
      <tr>
        <td>姓名</td><td>年龄</td><td>职业</td><td>出生年月</td>
      </tr>      
      <tr>
        <td>chris</td><td>27</td><td>soft engineer</td><td>1990.3</td>
      </tr>
    </table>
  </body>
</html>
